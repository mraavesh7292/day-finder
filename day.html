<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>8,000-Year Day Finder</title>
  <style>
    :root {
      --bg: #0f172a;
      --panel: #1e293b;
      --muted: #94a3b8;
      --text: #f8fafc;
      --accent: #3b82f6;
      --accent2: #22c55e;
      --error: #ef4444;
      --ring: #334155;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;
      background: linear-gradient(135deg, #1e293b, #0f172a);
      color: var(--text);
    }
    .wrap { max-width: 900px; margin: 0 auto; padding: 24px; }
    header { text-align: center; margin-bottom: 24px; }
    h1 { font-size: 2rem; margin: 0; }
    .sub { color: var(--muted); margin-top: 6px; }

    .card { background: rgba(255,255,255,0.05); border: 1px solid var(--ring);
            border-radius: 16px; padding: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.4); }

    form { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; }
    label { font-size: .9rem; color: var(--muted); display: block; margin-bottom: 6px; }
    input[type="number"], select { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--ring); background: #1e293b; color: var(--text);
      outline: none; transition: border .15s ease; }
    input[type="number"]:focus, select:focus { border-color: var(--accent); }

    .btns { display: flex; justify-content: center; gap: 12px; margin-top: 20px; flex-wrap: wrap; }
    button { padding: 12px 18px; border: 1px solid var(--ring); border-radius: 10px; cursor: pointer; background: #1e293b; color: var(--text);
      transition: transform .05s ease, background .2s ease, border-color .2s ease; min-width: 120px; }
    button.primary { background: var(--accent); border-color: #2563eb; color: #fff; font-weight: 600; }
    button:hover { transform: translateY(-1px); background: #2563eb; }

    .result { margin-top: 18px; padding: 16px; border-radius: 12px; border: 1px dashed var(--ring); background: #0f172a; display: grid; gap: 10px; text-align: center; }
    .day { font-size: 1.5rem; font-weight: 700; }
    .meta { color: var(--muted); font-size: .95rem; }
    .error { color: var(--error); font-weight: 600; }

    .footer { margin-top: 22px; color: var(--muted); font-size: .85rem; text-align: center; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>8,000-Year Day Finder</h1>
      <div class="sub">Find the weekday for any date between 10,000 BCE and 10,000 CE.</div>
    </header>

    <section class="card">
      <form id="dateForm" onsubmit="event.preventDefault(); calc();">
        <div>
          <label for="day">Day (1â€“31)</label>
          <input id="day" type="number" min="1" max="31" value="1" required />
        </div>
        <div>
          <label for="month">Month</label>
          <select id="month">
            <option value="1">January</option>
            <option value="2">February</option>
            <option value="3">March</option>
            <option value="4">April</option>
            <option value="5">May</option>
            <option value="6">June</option>
            <option value="7">July</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
          </select>
        </div>
        <div>
          <label for="year">Year (Astronomical)</label>
          <input id="year" type="number" value="2025" step="1" required />
        </div>
        <div>
          <label for="cal">Calendar</label>
          <select id="cal">
            <option value="gregorian" selected>Gregorian (proleptic)</option>
            <option value="julian">Julian (proleptic)</option>
          </select>
        </div>
        <div class="btns">
          <button class="primary" type="submit">Find Day</button>
          <button type="button" onclick="fillToday()">Today</button>
          <button type="button" onclick="fillExample()">Example</button>
        </div>
      </form>

      <div class="result" id="result" hidden>
        <div class="day" id="weekday"></div>
        <div class="meta" id="meta"></div>
        <div class="meta" id="jdn"></div>
        <div class="error" id="err"></div>
      </div>
    </section>

    <div class="footer">
      Check with known dates: 1 Jan 2000 (Gregorian) = Saturday; 15 Oct 1582 (Gregorian) = Friday; 1 Jan 0001 (Gregorian, proleptic) = Monday.
    </div>
  </div>

  <script>
    function toJDNGregorian(y, m, d) {
      const a = Math.floor((14 - m) / 12);
      const yy = y + 4800 - a;
      const mm = m + 12 * a - 3;
      return d + Math.floor((153 * mm + 2) / 5) + 365 * yy + Math.floor(yy / 4) - Math.floor(yy / 100) + Math.floor(yy / 400) - 32045;
    }
    function toJDNJulian(y, m, d) {
      const a = Math.floor((14 - m) / 12);
      const yy = y + 4800 - a;
      const mm = m + 12 * a - 3;
      return d + Math.floor((153 * mm + 2) / 5) + 365 * yy + Math.floor(yy / 4) - 32083;
    }

    function weekdayFromJDN(jdn) {
      const names = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
      const idx = ((jdn % 7) + 7) % 7;
      return names[idx];
    }

    function isLeapGregorian(y) { return (y % 4 === 0 && y % 100 !== 0) || (y % 400 === 0); }
    function isLeapJulian(y) { return y % 4 === 0; }

    function daysInMonth(y, m, cal) {
      const dim = [31, (cal === 'gregorian' ? (isLeapGregorian(y) ? 29 : 28) : (isLeapJulian(y) ? 29 : 28)), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
      return dim[m - 1];
    }

    function validate(y, m, d, cal) {
      if (!Number.isFinite(y) || !Number.isFinite(m) || !Number.isFinite(d)) return "Invalid input.";
      if (m < 1 || m > 12) return "Month must be between 1 and 12.";
      const maxD = daysInMonth(y, m, cal);
      if (d < 1 || d > maxD) return `That month has ${maxD} days.`;
      if (y < -9999 || y > 9999) return "Range supported: ~10,000 BCE to ~10,000 CE.";
      return "";
    }

    function calc() {
      const d = Number(document.getElementById('day').value);
      const m = Number(document.getElementById('month').value);
      const y = Number(document.getElementById('year').value);
      const cal = document.getElementById('cal').value;

      const errMsg = validate(y, m, d, cal);

      const resBox = document.getElementById('result');
      const errEl = document.getElementById('err');
      const meta = document.getElementById('meta');
      const jdnEl = document.getElementById('jdn');
      const dayEl = document.getElementById('weekday');

      resBox.hidden = false; errEl.textContent = '';

      if (errMsg) { errEl.textContent = errMsg; dayEl.textContent = ''; meta.textContent = ''; jdnEl.textContent = ''; return; }

      const jdn = cal === 'gregorian' ? toJDNGregorian(y, m, d) : toJDNJulian(y, m, d);
      const w = weekdayFromJDN(jdn);

      dayEl.textContent = w;
      meta.textContent = `Input: ${d.toString().padStart(2,'0')}-${m.toString().padStart(2,'0')}-${y} | Calendar: ${cal}`;
      jdnEl.textContent = `JDN: ${jdn}`;
    }

    function fillToday() {
      const now = new Date();
      document.getElementById('day').value = now.getUTCDate();
      document.getElementById('month').value = now.getUTCMonth() + 1;
      document.getElementById('year').value = now.getUTCFullYear();
      document.getElementById('cal').value = 'gregorian';
      calc();
    }

    function fillExample() {
      document.getElementById('day').value = 15;
      document.getElementById('month').value = 6;
      document.getElementById('year').value = -5976; // 5976 BCE in astronomical numbering
      document.getElementById('cal').value = 'julian';
      calc();
    }

    window.addEventListener('DOMContentLoaded', () => calc());
  </script>
</body>
</html>
